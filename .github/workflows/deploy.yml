name: Deploy to Production ğŸš€

on:
  push:
    branches:
      - main

jobs:
  checkout:
    name: Checkout Code ğŸ”
    runs-on: [self-hosted, linux]
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

  docker_compose:
    name: Build and Deploy with Docker Compose ğŸ³
    runs-on: [self-hosted, linux]
    needs: checkout
    steps:
      - name: Build Docker Compose
        run: |
          sudo docker compose up -d --build